기본개념
야후 파이낸스 비공식 쿼리에서 메인티커의 정보를 가져와 결과값을 텔레그램봇으로 전송
정보를 가져와 확인하고 전송해야하는만큼 인터넷이 연결되어있어야해서 컴퓨터에 따로하는게 아닌 폰에서 진행될수 있도록 해당 과정을 만듬

아기티큐님의 200티큐 전략을 QLD QQQ 등 200일선으로 활용할 메인티커 어디에 쓰던지 가능하도록 작업하였음

코딩 조건
 
1. 미국 현지 시간 16:04부터 야후 파이낸스에서 종가를 확인후 가져와 200일선 비교 실시. 16:04로 설정한것은. 16:00이후 바로 업데이트 되지않고 야후 파이낸스 정보 업데이트까지 최대 3분가량의 갭이 날수 있기 때문
 
2. 메인티커 의 금일 종가 확인 최대 400일의 일자별 정보를 당겨와서 금일부터 200일의 종가를 확인하여 계산
200일선을 계산이후 확인하고 5%를 더한 값을 생성
 
3. 자산은 메인티커(TQQQ, SOXL 등 200일선을 가져오는 티커) 
안전자산(SGOV 등), 추가매수자산(SPYM등) 입력하면 됨

TQQQ SGOV SPYM를 기준으로 아래와 같은 식에 따라 당일 전략이 뜨도록 구성함

1. TQQQ < 200MA → 결과값 : 전량 SGOV
1-1. D-1 1.이고 D가 1 → 결과값 : SGOV 유지
2. 200MA < TQQQ < 1.05*200MA → 결과값 : SGOV → TQQQ
2-1. D-1 1.이고 D가 2. → 결과값 : SGOV 대기
2-2. D-1 1.이 아니라면 결과값 : SGOV → TQQQ
3. 1.05*200MA < TQQQ → 결과값 : TQQQ유지 + SPYM매수

4. 휴장 및 단축일자도 AI를 통해 코드에 반영하였으나, 작동여부에 대하여 아직 체크는 안된상황

------설치과정--------

텔레그램 설치(정보를 발송받는곳)
1. botfather을 불러와 /newbot 입력후 봇이름 입력(대화방명) 유저명 입력(_bot을 붙여야함) 이후 봇의 http api를 확인 및 복사해두기. 그리고 API아래의 링크를 눌러 봇을 활성화함
2. IDbot을 불러와 /start /getid를 입력하여 내 ID번호 확인 및 복사해두기

F드로이드에서 termux와 termux:boot 받아 apk설치
- 다운로드는 동영상을 참고

termux를 접속한 이후 아래의 코드를  복사하여 입력 키패드의 엔터를 클릭
- 입력도 동영상을 참고 

# 1. (저장소 권한 허용 - 최초 1회) / (스크립트 실행) 
termux-setup-storage 

# 2. (스크립트 실행) 
- 파일명을 setup_final.sh로 설정하였으나, 명칭바꾸면 해당명칭으로 수정할것
sh ~/storage/downloads/setup_final.sh
sh ~/storage/downloads/setup_final_tqqq200.sh

# 3. 텔레그램 봇 api 입력 
- 텔레그램 설치 1번에서 복사한 http api:뒤의 코드를 입력 후 엔터 클릭

# 4 텔레그램 ID번호 입력
- 텔레그램 설치 2번에서 복사한 ID번호 입력 후 엔터 클릭

# 4 200일선의 자료를 가져올 티커를 입력 후 엔터 클릭 

# 5 안전자산의 티커 입력 후 엔터 클릭, 추가 매수 자산의 티커 입력 후 엔터 클릭
- 5에서 입력한 내용은 따로 웹으로 연결해서 자료를 가져오는게 아니니 참고

------운영과정-------- 

# termux와 termux:boot를 자동절전 예외 앱으로 지정하기 

발송이 안되거나 늦게와서 로그를 확인하고 싶다면
- (TQQQ에 본인이입력한 티커 대문자) 

# termux 창에서 cat $HOME/TQQQ.log 입력하기
# (팁) 파일의 마지막 20줄만 확인한다면? termux 창에서 tail -n 20 $HOME/TQQQ.log 

# 푸시알림창에 termux가 떠있고, 밑에 exit와 accuire wakelock이 있는데 
    1session 되어있으면 지금 돌아가고 있으니 exit를 누르면 안됨 밀어서 지우기

# 텔레그램 관련입력은 메신저 관련 개인정보인만큼 유출에 주의
    - 메인티커.py 파일을 공유한다면 termux에 nano ~/메인티커.py를 입력하여 
       상단의 텔레그램관련 ""사이의 개인정보를 모두 삭제할것

# 지울때는 어차피 termux의 저장공간에 생성된거니 해당건을 삭제

EX) TQQQ QLD 등 복수로 사용중이라 특정건만 지우고 싶다면?

# termux 창에서 crontab -e 입력 (자동실행)
# 편집기에서 삭제티커(대문자).py가 포함된 줄을 찾아서 삭제
# (Nano 편집기라면 해당 줄에서 Ctrl+K)
# 그 다음 저장(Ctrl+O, Enter)하고 종료(Ctrl+X)
 
# 2. 생성된 파일들 삭제
rm $HOME/삭제티커(대문자).py
rm $HOME/삭제티커(대문자).log

rm $HOME/prev_conditions_삭제티커(대문자).txt
